#summary Description for high level use cases for JAKOB
#labels JAKOB
=JAKOB (Attribut Collector) Use Cases=

This page contains high level descriptions of use cases, that are the basis for the initial high level design and description of the JAKOB attribute collector.

The use cases are further refined to actual [UserStories user stories], that form the basis for the actual design and implementation.

<wiki:toc max_depth="5" />

----

==Netlydbog.dk (Aarhus)==
===Use Case 1 for netlydbog.dk===
En bruger går ind på [netlydbog.dk] og logger ind med [https://www.nemid.nu/ NemID]. 
I forbindelse med indlogningen hentes informationer om hvilken kommune brugeren er tilknyttet.

 * Hun søger den ønskede titel frem og klikker herefter på ”Hent”
 * Filen downloades til hendes computer
 * Hun beslutter sig også at downloade bind 2 i serien, søger titlen frem og klikker på ”Hent”
 * Filen overføres til hendes computer

Det sker:
 * Ved indlogning sendes cpr-nr. fra NemID-login retur til attribut collectoren, som ud fra cpr-nr. har låneren registreret som bosiddende i x-købing kommune
 * Hun udstyres med rettigheder i forhold til X-købing kommune, hvorfor hun ikke selv skal angive hvilket bibliotek hun kommer fra
 * Biblioteket registreres for udlånet i administrationsystemet
 * Man skal være bosiddende i den kommune biblioteket ligger i for at kunne låne netlydbøger

===Use Case 2 for netlydbog.dk===
En bruger browser rundt på [https://netlydbog.dk/ netlydbog.dk]
 * Klikker på ”Hent” for at downloade lydbogen til sin computer
 * Brugeren er ikke logget ind og redirectes derfor til login-siden for indlogning
 * Der vælges NemID login. I forbindelse med indlogning hentes information om brugeres bopælskommune
 * Kommunen har abonnement på netlydbog.dk så titlen må downloades

Det sker:
 * Cpr-nr. sendes fra NemID-login til Attribut Collector, som ud fra cpr-nr. tjekker låneren.
 * Cpr-nr. findes kun som biblioteksbruger på Statsbiblioteket
 * Statsbiblioteket har ikke abonnement på netlydbog.dk, så de lokale bibliotekssystemer i folkebiblioteker i Midtjylland forespørges om hvor brugeren hører til
 * Attribut Collector får svar fra Silkeborg Bibliotek og cpr-nr. knyttes til Silkeborg Bibliotek & Silkeborg Kommune
 * Der sendes besked til Silkeborg Bibliotek om at oprette låneren som bruger (digital bruger)
 * Hvordan Silkeborg Bibliotek håndtere dette er ikke en del af usecasen!

===Use Case 3 for netlydbog.dk===
Et barn browser rundt på netlydbog.dk for at finde en lydbog han ønsker at høre på vej til skole. Da han finder den ønskede titlen klikker han på ”Lyt” for at streame lydbogen fra hans iPhone.

 * Da han ikke er logget ind, videresendes han til login siden
 * Da han ikke har et NemID, vælger han at logge ind med hans lånekort
 * Han skal selv vælge hvilket bibliotek han er tilknyttet

Det sker:
 * Ved indlogning tjekkes at brugeren er oprettet som låner på det valgte bibliotek

----

==E-ressource ezProxy (Statsbiblioteket, SB)) - USECASE IMPLEMENTED==

===Use Case 1 for E-ressource ezProxy===
En bruger sidder hjemme og søger efter videnskabelige artikler via Statsbibliotekets (SB) søgesystem eller via en ekstern søgedatabase.

Brugeren ønsker at downloade en bestemt artikel og sendes derfor til SB [linkresolver], som returnerer et link til download af den ønskede artikel.

Der er kun adgang til videnskabelige artikler, hvis brugeren er studerende eller ansat på Aarhus Universitet. Fordi brugeren sidder hjemme og ikke på Aarhus Universitets Campus er artiklen beskyttet af en [fjern-adgangsproxy]

Fjernadgangsproxien tilbyder forskellige login former og heriblandt [NemID] via [WAYF]. Vælger brugeren NemID, så skal attribut collectoren hente information vedr. brugerens rolle (ansat, studerende) og tilhørsforhold (et fakultet på Aarhus universitet) fra SB brugerregister. Hvis rolle og tilhørsforhold matcher proxiens valideringsregler, så udleveres artiklens downloadlink.

 * SB skal opsætte og konfigurerer en proxy som beskrevet ovenfor
 * SB skal udstille SB's brugerregister som et attribut store, der ud fra CPR-nummer kan udlevere brugerens rolle og tilhørsforhold
 * SB sikkerhedsmodul kan være et alm. SSL kald, foretaget fra godkendt konsistent (fast) IP-adresse
 * Benyttet protokol kan være JSON
 * WAYF opsættes, så attribut collectoren kan håndtere casen
 * WAYF udvikler adaptor til dataudveksling ml. JAKOB og SB's e-ressource

----

==Filmstriben (DBC)==
Usecase mangler...

----

==VIP-Basen (DBC)==
Usecase mangler...