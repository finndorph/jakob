#summary Connector design

=Writing a connector for JAKOB=
To write a JKOB connector you must implement a class the implements the `Connector` interface. The actual implementation of the connector must be placed in the `<JAKOB-DIR>/lib/WAYF/Connector/` directory

==Connector interface==
{{{
interface Connector
{
    /**
     * Default method called by worker
     * @param \GearmanJob $job Job Gearman job
     */
    public function execute(\GearmanJob $job);

    public function setStore(\WAYF\Store $store);

    public function setConfig(array $config);

    public function setup();
}
}}}

Please note that this interface is still under development, so it may change in the future.

=How to design API for JKOB connectors=
When designing an API for a JAKOB connector to access, it is importent to make the interchange format as light weight as possible. The smaller and easier it is to parse, the quicker JAKOb will respond to a request.

The following is an example of an interchange format that is light weight and easy to parse.

==Example==
Below is a proposed example output of an external datasource, to be delivered back to a connector
{{{
{
    "id" : "v4j23h5vj5h3425v",
    "version" : "1.0",
    "userid" : "999999-8888",
    "status" : {
        "code" : "success"
    },
    "attributes" : {
        "attributekey1" : "attributevalue",
        "attributekey2" : [
            "attributevalue1",
            "attributevalue2"
        ],
        "attributekey3" : "attributevalue"
    } 
}
}}}