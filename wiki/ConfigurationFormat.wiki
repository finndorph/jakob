#summary Describes the configuration format

This is the initial proposal for a internal configuration format used in JAKOB, in  order to get attributes from different sources
= Example =
{{{
<jc:job xmlns:jc="http://www.wayf.dk/namespace/jakob/config/V1" ID="cdsfvvwedv" name="Hent attributter">
  <jc:task order="1">
    <jc:connector ID="CPR" name="CPR connector">
      <jc:options>
        <jc:option name="uid">ndlksvfv</jc:option>
      </jc:options>
    </jc:connector>                             
  </jc:task>
  <jc:batch order="2">                                    
    <jc:task>
      <jc:connector ID="VIP" name="VIP connector">
        <jc:options>
          <jc:option name="uid">ndlksvfv</jc:option>
        </jc:options>
      </jc:connector>
    </jc:task>
    <jc:task>   
      <jc:connector ID="CLUR" name="CLUR connecor">
        <jc:options>                                                                                            
          <jc:option name="uid">ndlksvfv</jc:option>                                                                
        </jc:options>
      </jc:connector>
    </jc:task>
  </jc:batch>
</jc:job>  
}}}

This can be done in JSON as well

{{{
{
    "ID": "cdsfvvwedv",
    "name": "Hent attributter",
    "tasks": [
        {
            "type": "task",
            "order": 1,
            "connector": {
                "ID": "CPR",
                "name": "CPR connector",
                "options": {
                    "uid": "ndlksvfv"
                }
            }
        },
        {
            "type": "batch",
            "order": 2,
            "tasks": [
                {
                    "type": "task",
                    "connector": {
                        "ID": "VIP",
                        "name": "VIP connector",
                        "options": {
                            "uid": "ndlksvfv"
                        }
                    }
                },
                {
                    "type": "task",
                    "connector": {
                        "ID": "CLUR",
                        "name": "CLUR connector",
                        "options": {
                            "uid": "ndlksvfv"
                        }
                    }
                }
            ]
        }
    ]
}
}}}

and in nativ PHP

{{{
<?php
$job = array(
    'tasks' => array(
        array(
            '_id' => 'CPR',
            '_priority' => 'sync',
            '_options' => array(
                'userkey' => 'wayf',
                'key' => 'wayf4ever',
            ),
        ),
        array(
            '_id' => 'VIP',
            '_priority' => 'async',
            '_options' => array(
                'userkey' => 'wayf',
                'key' => 'wayf4evervip',
            ),
        ),
        array(
            '_id' => 'CPR',
            '_priority' => 'async',
            '_options' => array(
                'userkey' => 'wayf',
                'key' => 'wayf4ever',
            ),
        ),
    ),
);
}}}

= Elements = 

----
== Job ==
`<job>` is the outer element of the configuration file

There are two elements allowed in `<job>`: `<task>` and `<batch>`

`ID` (Required)
 ID of the job. Used to uniquely identity the job

`name` (Optional)
 An optional friendly name for the job

`<task>` or `<batch>` (One or more)
 Contains description of the different task the job should perform.

----
== Task ==
`<task>` are the definition of single connection to an external source.

`order` (Optional)
 Defines the order in which the different tasks are performed.

`<connector>` (Required)
 Describes the connector used for the task.

----
== Batch ==
`<batch>` is the container for multiple `<task>` elements that are to be executed simultaneous.

`order` (Optional)
 Defines the order in which the batched tasks should be performed compared to the other `<task>` elements.

`<task>` (One or more)
 The tasks that should be executed simultaneous.

----
== Connector ==
`<connector>` defines how to connect to the external source.

`ID` (Required)
 Unique identifier for the connector.

`name` (Optional)
 optional name for the connector configuration.

`<options>` (Optional)
 Defines options for the connector.

----
== Options ==
 The `<options>` element defines all options that is needed for a connector to run successfully.

`<option>` (One or more)
 A single option for a connector.

----
== Option ==
The `<option>` element contains data for a single option used by a connector.

`name` (Required)
 Name of the option

----